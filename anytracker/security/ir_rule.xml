<?xml version="1.0"?>
<openerp><data>

<record id="anytracker_rule_tickets_participants" model="ir.rule">
    <field name="name">Tickets only for participants</field>
    <field model="ir.model" name="model_id" search="[('model', '=', 'anytracker.ticket')]"/>
    <field name="domain_force">['|', ('project_id.participant_ids', 'in', user.id), ('parent_id.participant_ids', 'in', user.id)]</field>
    <field name="groups" eval="[(6, 0, [ref('anytracker.group_customer'), ref('anytracker.group_member')])]"/>
</record>
<record id="anytracker_rule_tickets_manager" model="ir.rule">
    <field name="name">Anytracker manager</field>
    <field model="ir.model" name="model_id" search="[('model', '=', 'anytracker.ticket')]"/>
    <field name="domain_force">[(1,'=',1)]</field>
    <field name="groups" eval="[(4, ref('anytracker.group_manager'))]"/>
</record>
<record id="anytracker_rule_partners_customer" model="ir.rule">
    <field name="name">Partner filter for customers</field>
    <field model="ir.model" name="model_id" search="[('model', '=', 'res.partner')]"/>
    <field name="domain_force">[('anytracker_user_ids', 'in', user.id)]</field>
    <field name="groups" eval="[(6, 0, [ref('anytracker.group_customer')])]"/>
    <field name="perm_create" eval="False"/>
    <field name="perm_write" eval="False"/>
    <field name="perm_read" eval="True"/>
    <field name="perm_unlink" eval="False"/>
</record>
<record id="anytracker_rule_partners" model="ir.rule">
    <field name="name">Partner filter for customers</field>
    <field model="ir.model" name="model_id" search="[('model', '=', 'res.partner')]"/>
    <field name="domain_force">[('anytracker_user_ids', 'not in', user.id)]</field>
    <field name="groups" eval="[(6, 0, [ref('anytracker.group_member'), ref('anytracker.group_manager')])]"/>
    <field name="perm_create" eval="True"/>
    <field name="perm_write" eval="True"/>
    <field name="perm_read" eval="True"/>
    <field name="perm_unlink" eval="True"/>
</record>

</data></openerp>
